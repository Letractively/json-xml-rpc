<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">














  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <title>JSON/XML-RPC Task Queue</title>
  <meta content="Weston Ruter" name="author">
</head>


<body>









<h2>JSON-RPC Client Task List</h2>









<ul>









  <li style="text-decoration: line-through;">How can we trap exceptions when we make asynchronous calls?</li>








  <li>QUESTION: Why can't I use this.readyState? within xhr.onreadystatechange()???</li>








  <li style="text-decoration: line-through;">Is there a way of determining the SCRIPT element that a function
is called from? If so, we can ditch the JSON-request-id parameter</li>








  <li>What is better (for Webforms2 as well)... typeof X == 'undefined' OR X == undefined</li>








  



  <li style="text-decoration: line-through;">Convert date strings/objects to Date objects after a string has been evaled</li>







  <li style="text-decoration: line-through;">Allow user to decide how they want Dates encoded</li>







  
  
  
  
  
  
  
  <ul style="text-decoration: line-through;">







    <li>rpc.toJSON needs to be able to access the server's configuration</li>







    <li>rpc.toJSON.apply(this, [request])</li>







  
  
  
  
  
  
  
  </ul>







  <li style="text-decoration: line-through;">Allow user and password</li>







  <li style="text-decoration: line-through;">When the user specified asyncrhonous, the introspection is erroneaously called asyncrhnously</li>







  <li style="text-decoration: line-through;">Remove requirement for JSON-request-id</li>







  <li>use: onSuccess, onException, onComplete????</li>






  <li>should onException accept two params... the error object and the
location where the error occured? Either before request, on server, or
in response</li>






  <li>how can we force synchronous mode, or switch back and for between when one or the other is more appropriate????</li>



  <li>Add code for XML-RPC</li>



  
  
  
  <ul>



    <li>"protocol" config property... &nbsp;if not specified, try introspection?</li>


    <li>note that XML-RPC responses do not contain id's.... should we
assign the response to response.result/error? Also we don't even need
the ID to be passed if this works:&nbsp;response.id = rpc.requestCount; </li>


    <li>how do we serialize XML data automatically? should we instead of creating an XML node just compile a string?</li>

  
  </ul>


  <li>can we throw different types of exceptions?</li>


  
  
  <ul>


    <li>ServerException</li>


    <li>ClientException</li>


    <li>HandlerException</li>


  
  
  </ul>


  <li style="text-decoration: line-through;">dateEncoding</li>

  <li style="text-decoration: line-through;">decodeISO8601</li>

  <li>test upgrading values: jsonclass, ASP.NET, @ticks@</li>
  <ul>
    <li>what happens with timezone for GMT? Can we get GMT value?</li>
  </ul>








</ul>








<br>















<ol>















</ol>















<h2>JSON/XML-RPC Server Task List</h2>















<ol>















  <li>errorDetails</li>

  <li>validateParams</li>















</ol>















<h2>Pending issues (unimplemented features)</h2>















<ol>















  <li>JSON-RPC 1.1: &nbsp;6.3.2. Safe and Idempotent
Procedures Only</li>















  <li>JSON-RPC 1.1: &nbsp;6.6. Procedure Call Parity</li>















  <li>If the HTTP GET call requested cache validation as well,
the response MAY be <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.5">304
(Not Modified)</a>. The use of status codes generally related to
redirection (e.g., <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.3">302
&ldquo;Found&rdquo;</a> or <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.2">301
&ldquo;Moved Permanently&rdquo;</a>) of HTTP GET
transactions is not strictly prohibited, but service providers are
RECOMMENDED instead to use public documentation and communication
methods to advertise the relocation of a service.</li>















  <li>The error object has a code property that MUST be an
integer between 100 and 999. WHY?</li>















  <li>Are the variables within the jsonxmlrpc_server modifiable
by the functions called?</li>















  <li style="text-decoration: line-through; color: gray;">What is the
spec for XML-RPC's server descibed introspection...</li>















  <li style="text-decoration: line-through; color: gray;">Make an
jsonXmlRpcServer class</li>















  <li>Make a custom json_encode function to deal with Date
objects....</li>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <ol>















    <li>how do we determine if an Array is associative or
positional?</li>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </ol>















  <li>set the error codes</li>















  <li>multiCall</li>















  <li style="text-decoration: line-through; color: gray;">{"__jsonclass__":["constructor",
[param1,...]], "prop1": ...}</li>















  <li>Address the JSON-RPC 1.1 &nbsp;section 13. Limitations</li>















  <li>Address the JSON-RPC 1.1 &nbsp;section 11. Service,
Procedure and Parameter Names</li>















  <li style="text-decoration: line-through; color: gray;">WRITE
SERIALIZER FOR XML-RPC</li>















  <li style="text-decoration: line-through; color: rgb(192, 192, 192);">WRITE
PARAMETER-PASSING LOGIC</li>














  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <ol style="text-decoration: line-through; color: rgb(192, 192, 192);">














    <li>all parameters should be passed... first pass those which match function parameters</li>














    <li>note: if a parameter is not supplied, it should throw an error.... EXCEPT if a default value is provided</li>














    <li>NOTE: are we supposed to pass
NULL if a value is not supplied? What if it has a default value? Does
the NULL param override the default value?</li>














    <li>If the name of the object member
consists entirely of decimal digits (0-9) then it identifies &nbsp;the
parameter by its position in the formal argument list.</li>














    <li>Note if array required... then don't pass a NULL but pass an empty array?</li>














  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </ol>















  <li style="text-decoration: line-through; color: gray;">What is
happening with utf-8 data</li>















  <li style="text-decoration: line-through; color: gray;">How do we get
timestamp from DateTime object???</li>















  <li style="text-decoration: line-through; color: gray;">Write
convertResource to finesse recognized types to a Data Struct</li>















  <li style="text-decoration: line-through; color: gray;">How can we
parse JSON \/Date()\/ &nbsp;when it is parsed by json_decode as
/Date()/???</li>















  <li style="text-decoration: line-through; color: gray;">Fix JSON date
parsing</li>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <ol style="text-decoration: line-through; color: gray;">















    <li>convert from 64-bit millisecond timestamp to DateTime
object</li>















    <li>passThrough of &nbsp;"@1183913472872@" is
returning&nbsp;"@11839134720@"</li>















    <li>sending an ISO date string works fine.... PROBLEM: cannot
parse timestamp into a DateTime object</li>















    <li>PHP's json_decode() function cannot handle 64-bit integers</li>















    <li><span style="font-weight: bold;">How do we
set the milliseconds of DateTime object</span>?</li>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </ol>















  <li style="text-decoration: line-through; color: rgb(192, 192, 192);">What happens when integers are too big?</li>















  <li style="text-decoration: line-through; color: gray;">parsing "\"
as a string literal should fail, but it is passing</li>















  <li style="text-decoration: line-through; color: gray;">JSON String
shouldn't have special characters escaped</li>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <ol style="text-decoration: line-through; color: gray;">















    <li>"\n" is encoded "\\n" by json_encode</li>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </ol>















  <li style="text-decoration: line-through; color: rgb(204, 204, 204);">QUESTION: how can we assign a static variable to a class?
(ie, current Server)</li>















  <li style="text-decoration: line-through;">OR: we should make RPCServer into a singleton...</li>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <ol style="text-decoration: line-through;">















    <li>because only one should ever be instantieated</li>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </ol>















  <li style="text-decoration: line-through; color: gray;">get rid of
JSON_DECODE for numbers...&nbsp;</li>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <ol style="text-decoration: line-through; color: gray;">















    <li>how can we tell ... is there a parse number function?</li>















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </ol>















  <li>We should make sure that identifiers are encoded exactly
according Unicode spec</li>















  <li style="text-decoration: line-through; color: rgb(204, 204, 204);">What happens when numbers are used as struct member names?</li>














  <li style="color: rgb(204, 204, 204); text-decoration: line-through;">Question: must all of the functions be found in the one file in which the RPCServer is instantiated??? &nbsp;<span id="pageTitle">get_included_files</span></li>













  <li><span id="pageTitle">How can we reference functions that appear within objects?.... second parameter for privateProc should be array(obj, method)</span></li>













  
  
  
  
  
  
  
  
  
  
  
  
  
  <ol>













    <li><span id="pageTitle">Answer: forbid it</span></li>













  
  
  
  
  
  
  
  
  
  
  
  
  
  </ol>













  <li>Issue: for JSON-RPC specifically, we must be able to make requests via inserting SCRIPT elements</li>













  
  
  
  
  
  
  
  
  
  
  
  
  
  <ol>













    <li>Question: what is the standard name for passing callback function name to the server? What does GData do? "callback"</li>













    <li>What is the convention for returning JSON data from the server
while cross-domain (data will not be strictly JSON since callback will
be included)</li>













    <li>method passed as PATH_INFO parameter with query parameters
passed to the method....&nbsp;(Async) with additional "_callback" query
parameter whose
value is the client side function that will be called with the
response... the returned object may be either a JSON-RPC request or
error object only. XML-RPC&nbsp;</li>













  
  
  
  
  
  
  
  
  
  
  
  
  
  </ol>













  <li style="text-decoration: line-through; color: rgb(204, 204, 204);">What about Class RpcServer? Using RPCClient is ugly.... I suppose I can just do new RPC.ServiceProxy();</li>













  <li style="text-decoration: line-through; color: rgb(204, 204, 204);">What about set_warning_handler??? What is the difference between
errors, exceptions, and warnings and the specific handlers for them
all... is a try/catch block only for exceptions????</li>












  <li style="text-decoration: line-through; color: rgb(204, 204, 204);">We should delete the previous SCRIPT tags.</li>










  <li>How to pass options to HTTP requests... only as Query String</li>










  
  
  
  
  
  
  
  
  
  
  <ol>










    <li>JSON-omit-response-wrapper</li>










    <li>JSON-response-callback</li>










  
  
  
  
  
  
  
  
  
  
  </ol>










  <li>What to do with "JSON-omit-response-wrapper" when there is an error?</li>





  <li>Can we pass the context information within the Error object???</li>





  <li>Use other CONST instead of strings for states</li>





  <li>QUESTION: How can we pass additional error information back in XML-RPC?</li>





  <li style="text-decoration: line-through;">Migrate back to PHP 4 class</li>





  
  
  
  
  
  <ol style="text-decoration: line-through;">





    <li>Use VAR instaed of public/private/protected....</li>





    <li>How to write singleton in PHP... we cannot make private constructors in PHP 4</li>





  
  
  
  
  
  </ol>




  <li style="text-decoration: line-through;">Make calling procesRequests optional</li>



  <li></li>















</ol>















<h2>Untested features</h2>















<ol>















  <li>JSON-RPC 1.1: 6.5. Case-Sensitivity of Procedure and
Parameter Names</li>















</ol>















<h2>Implemented Features</h2>















<ul>















</ul>















</body>
</html>
